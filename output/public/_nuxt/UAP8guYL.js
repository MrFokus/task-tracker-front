import{_ as u}from"./DlZI_DoU.js";import{n as m,r as g,c as h,a as o,s as i,v as r,u as n,b as f,w,y as v,o as x,d as b,p as k,e as y,I,_ as S}from"./DJOztor7.js";import{a as V,u as B}from"./BzyvTdK6.js";import{_ as T}from"./DXKROHUj.js";const l=t=>(k("data-v-1ce7a2b5"),t=t(),y(),t),C=l(()=>o("div",{class:"logo"},[o("img",{src:T,alt:"logo"}),o("p",null,"ИнтерПро")],-1)),M={class:"credential"},N=l(()=>o("p",null,"Логин",-1)),U={class:"credential"},A=l(()=>o("p",null,"Пароль",-1)),D=l(()=>o("button",{class:"blue"},"Войти",-1)),E=m({__name:"login",setup(t){const d=V("access_token",{maxAge:36e4}),e=g({login:"",password:""});async function p(){try{const s=await B("/auth",{method:"POST",body:{login:e.value.login,password:e.value.password}});d.value="Bearer "+(s==null?void 0:s.access_token),await I("/")}catch(s){console.error(s)}}return(s,a)=>{const _=u;return x(),h("form",{onSubmit:v(p,["prevent"]),class:"login white-block"},[C,o("div",M,[N,i(o("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>n(e).login=c),placeholder:"Введите логин",type:"text"},null,512),[[r,n(e).login]])]),o("div",U,[A,i(o("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>n(e).password=c),placeholder:"Введите пароль",type:"password"},null,512),[[r,n(e).password]])]),f(_,{to:"/register"},{default:w(()=>[b("Нет аккаунта?")]),_:1}),D],32)}}}),q=S(E,[["__scopeId","data-v-1ce7a2b5"]]);export{q as default};
