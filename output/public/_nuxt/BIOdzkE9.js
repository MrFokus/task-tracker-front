import{_}from"./DlZI_DoU.js";import{n as m,r as v,c as w,a as e,s as r,v as i,u as t,b as f,w as h,y as g,o as x,d as y,p as k,e as V,I as b,_ as I}from"./DJOztor7.js";import{a as P,u as S}from"./BzyvTdK6.js";import{_ as U}from"./DXKROHUj.js";const l=d=>(k("data-v-0697511f"),d=d(),V(),d),B=l(()=>e("div",{class:"logo"},[e("img",{src:U,alt:"logo"}),e("p",null,"ИнтерПро")],-1)),T={class:"credential"},C=l(()=>e("p",null,"Логин",-1)),M={class:"credential"},N=l(()=>e("p",null,"Почта",-1)),D={class:"credential"},A=l(()=>e("p",null,"Имя, которое будет видно всем",-1)),E={class:"credential"},F=l(()=>e("p",null,"Пароль",-1)),O={class:"credential"},j=l(()=>e("p",null,"Повторите пароль",-1)),q=l(()=>e("button",{class:"blue"},"Зарегистрироваться",-1)),z=m({__name:"register",setup(d){const p=P("access_token",{maxAge:36e4}),o=v({login:"",mail:"",name:"",password:"",repeatPassword:""});async function c(){try{if(o.value.password!==o.value.repeatPassword)return;const n=await S("/user",{method:"POST",body:{login:o.value.login,password:o.value.password,mail:o.value.mail,name:o.value.name}});p.value="Bearer "+(n==null?void 0:n.access_token),await b("/")}catch(n){console.error(n)}}return(n,s)=>{const u=_;return x(),w("form",{onSubmit:g(c,["prevent"]),class:"login white-block"},[B,e("div",T,[C,r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t(o).login=a),placeholder:"Введите логин",type:"text"},null,512),[[i,t(o).login]])]),e("div",M,[N,r(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t(o).mail=a),placeholder:"Введите почту",type:"text"},null,512),[[i,t(o).mail]])]),e("div",D,[A,r(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>t(o).name=a),placeholder:"Введите имя",type:"text"},null,512),[[i,t(o).name]])]),e("div",E,[F,r(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>t(o).password=a),placeholder:"Введите пароль",type:"password"},null,512),[[i,t(o).password]])]),e("div",O,[j,r(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>t(o).repeatPassword=a),placeholder:"Повторите пароль",type:"password"},null,512),[[i,t(o).repeatPassword]])]),f(u,{to:"/login"},{default:h(()=>[y("Есть аккаунт?")]),_:1}),q],32)}}}),L=I(z,[["__scopeId","data-v-0697511f"]]);export{L as default};
